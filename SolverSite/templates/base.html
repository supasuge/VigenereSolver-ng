<!doctype html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="utf-8">
  <title>VigenÃ¨re Decrypter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/classy.css') }}">

  <!-- KaTeX (math rendering) -->
  <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">

<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js">
</script>

<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body,{
          delimiters:[
            {left:'$$', right:'$$', display:true},
            {left:'\\[', right:'\\]', display:true},
            {left:'$',  right:'$',  display:false},
            {left:'\\(', right:'\\)', display:false}
          ],
          throwOnError:false
        });">
</script>

  <!-- App JS (theme + ui) -->
  <script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>
  <header class="site-header sticky">
    <div class="wrap header-grid">
      <a class="brand brand-with-logo" href="{{ url_for('index') }}">
        <img src="{{ url_for('static', filename='img/logo.svg') }}" alt="logo" class="logo">
        <span>VigenÃ¨re Decrypter</span>
      </a>
      <nav class="nav">
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('how_to_use') }}">How to Use</a>
        <a href="{{ url_for('how_it_works') }}">How it Works</a>
        <a href="https://en.wikipedia.org/wiki/Vigen%C3%A8re_cipher" target="_blank" rel="noopener">About VigenÃ¨re</a>
        <button class="btn tiny theme-toggle" type="button" id="themeToggle" title="Toggle theme">ðŸŒ—</button>
      </nav>
    </div>
  </header>

  <main class="wrap">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-list">
          {% for cat, msg in messages %}
            <div class="flash {{ cat }}">{{ msg|safe }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <span>&copy; 2025 VigenÃ¨re Decrypter</span>
      <span class="sep">Â·</span>
      <span>Crafted with math &amp; espresso.</span>
    </div>
  </footer>

  <script>
    // Initialize KaTeX auto-render on pages that contain math
    document.addEventListener("DOMContentLoaded", function() {
      if (window.renderMathInElement) {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
          ],
          throwOnError: false
        });
      }
    });
  </script>
</body>
</html>
